{% extends "registration/base.html" %}

{% load i18n jazzmin %}
{% get_jazzmin_settings request as jazzmin_settings %}
{% get_jazzmin_ui_tweaks as jazzmin_ui %}

{% block content %}
    <p class="login-box-msg">{{ jazzmin_settings.welcome_sign }}</p>
<!--    <form action="{% url 'admin:login' %}" method="post">-->
<!--        {% csrf_token %}-->
<!--        {{ block.super }}-->
<!--        {% if user.is_authenticated %}-->
<!--            <p class="errornote">-->
<!--                <div class="callout callout-danger">-->
<!--                    <p>-->
<!--                        {% blocktrans trimmed %}-->
<!--                            You are authenticated as {{ username }}, but are not authorized to-->
<!--                            access this page. Would you like to login to a different account?-->
<!--                        {% endblocktrans %}-->
<!--                    </p>-->
<!--                </div>-->
<!--            </p>-->
<!--        {% endif %}-->
<!--        {% if form.errors %}-->
<!--            {% if form.username.errors %}-->
<!--                <div class="callout callout-danger">-->
<!--                    <p>{{ form.username.label }}: {{ form.username.errors|join:', ' }}</p>-->
<!--                </div>-->
<!--            {% endif %}-->
<!--            {% if form.password.errors %}-->
<!--                <div class="callout callout-danger">-->
<!--                    <p>{{ form.password.label }}: {{ form.password.errors|join:', ' }}</p>-->
<!--                </div>-->
<!--            {% endif %}-->
<!--&lt;!&ndash;            {% if form.password.errors %}&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="callout callout-danger">&ndash;&gt;-->
<!--&lt;!&ndash;                    <p>{ form.remember_me.label }}: {{ form.password.errors|join:', ' }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            {% endif %}&ndash;&gt;-->
<!--            {% if form.non_field_errors %}-->
<!--                <div class="callout callout-danger">-->
<!--                    {% for error in form.non_field_errors %}-->
<!--                        <p>{{ error }}</p>-->
<!--                    {% endfor %}-->
<!--                </div>-->
<!--            {% endif %}-->
<!--        {% endif %}-->
<!--        <div class="input-group mb-3">-->
<!--            <input type="text" name="username" class="form-control" placeholder="{{ form.username.label }}" required>-->
<!--            <div class="input-group-append">-->
<!--                <div class="input-group-text">-->
<!--                    <span class="fas fa-user"></span>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="input-group mb-3">-->
<!--            <input type="password" name="password" class="form-control" placeholder="{{ form.password.label }}" required>-->
<!--            <div class="input-group-append">-->
<!--                <div class="input-group-text">-->
<!--                    <span class="fas fa-lock"></span>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="input-group mb-3">-->
<!--&lt;!&ndash;            <input type="password" name="password" class="form-control" placeholder="{{ form.password.label }}" required>&ndash;&gt;-->
<!--&lt;!&ndash;            {{ form.as_p}}&ndash;&gt;-->
<!--            <input type="checkbox" name="remember_me" value="remember_me" style="margin-right: 15px;-->
<!--            width: 25px; height: 25px;">-->
<!--&lt;!&ndash;            <div class="input-group-append">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="input-group-text">&ndash;&gt;-->
<!--                <h5>Remember me</h5>-->
<!--&lt;!&ndash;            {{ form.tenant_identifier.label_tag }} {{ form.tenant_identifier }}&ndash;&gt;-->

<!--&lt;!&ndash;            {% if form.errors %}&ndash;&gt;-->
<!--&lt;!&ndash;                <p class="error">Please correct the error below:</p>&ndash;&gt;-->
<!--&lt;!&ndash;                {{ form.errors }}&ndash;&gt;-->
<!--&lt;!&ndash;            {% endif %}&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--        </div>-->
<!--        {% url 'admin_password_reset' as password_reset_url %}-->
<!--        {% if password_reset_url %}-->
<!--            <div class="mb-3">-->
<!--                <div class="password-reset-link" style="text-align: center;">-->
<!--                    <a href="{{ password_reset_url }}">-->
<!--                        {% trans 'Forgotten your password or username?' %}-->
<!--                    </a>-->
<!--                </div>-->
<!--            </div>-->
<!--        {% endif %}-->
<!--        <div class="row">-->
<!--            <div class="col-12">-->
<!--                <button type="submit" class="btn {{ jazzmin_ui.button_classes.primary }} btn-block">-->
<!--                    {% trans "Log in" %}-->
<!--                </button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </form>-->

    <form method="POST" id="login-form" class="form-horizontal" action="{% url 'admin_login' %}">
    {% csrf_token %}
    <div class="form-group row">
        <label for="id_username" class="col-form-label col-md-4 required">Username:</label>
        <div class="col-md-8">
            <input type="text" name="username" id="id_username" required class="form-control" value="{{ form.form  }}" />
        </div>
    </div>
    <div class="form-group row">
        <label for="id_password" class ="col-form-label col-md-4 required">Password:</label>
        <div class="col-md-8">
            <input type="password" name="password" id="id_password" required class="form-control" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-8 offset-md-4">
            <input type="checkbox" name="remember_me" id="remember_me" value="Yes" />
            <label for="remember_me">Remember me</label>
            <script>
                document.getElementById("remember_me").addEventListener("change", function() {
                    if (this.checked) {
                        document.getElementById("id_username").value = "{{ form.form }}";
                    }
                });
            </script>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-8 offset-md-4">
            <button type="submit" class="btn btn-primary">Log in</button>
        </div>
    </div>
</form>
{% endblock %}
